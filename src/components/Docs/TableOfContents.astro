---
export interface Props {
  headings?: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
}

const { headings = [] } = Astro.props;
---

<nav class="text-sm">
  <h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-4">
    On this page
  </h3>

  {
    headings.length > 0 ? (
      <ul class="space-y-2">
        {headings.map((heading) => (
          <li>
            <a
              href={`#${heading.slug}`}
              class={`
              block text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100
              ${heading.depth === 3 ? "pl-4" : ""}
            `}
            >
              {heading.text}
            </a>
          </li>
        ))}
      </ul>
    ) : (
      <p class="text-gray-500 dark:text-gray-400 text-sm">No headings found</p>
    )
  }
</nav>
