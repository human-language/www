---
export interface Props {
  headings?: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
}

const { headings = [] } = Astro.props;
---

<nav class="table-of-contents">
  <h3
    class="text-xs font-semibold uppercase tracking-wider text-gray-900 dark:text-gray-100 mb-4"
  >
    Table of contents
  </h3>

  {
    headings.length > 0 ? (
      <ul class="space-y-2.5 text-sm">
        {headings.map((heading) => (
          <li>
            <a
              href={`#${heading.slug}`}
              class={`
              block py-1 leading-relaxed transition-colors
              ${
                heading.depth === 2
                  ? "text-gray-700 hover:text-gray-900 dark:text-gray-300 dark:hover:text-gray-100 font-medium"
                  : "text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 pl-4"
              }
            `}
            >
              {heading.text}
            </a>
          </li>
        ))}
      </ul>
    ) : (
      <p class="text-gray-500 dark:text-gray-500 text-sm">
        No headings available
      </p>
    )
  }
</nav>
